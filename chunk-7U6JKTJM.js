import{b as A,d as f,e as q,f as B,g as G,h as R,i as U,k as Z,l as $,m as L,n as W,o as H,r as Q,s as Y,t as J,u as K}from"./chunk-ZETV6QJZ.js";import{j as N,k as V,l as k,p as z,q as j}from"./chunk-MQGZWEBN.js";import{Ab as M,Bb as _,Cb as O,Db as w,Eb as F,Fb as T,Gb as D,Ja as l,Jb as I,Kb as x,Mb as h,Pa as E,Ua as y,Za as g,a as S,b as P,fb as d,ja as C,jb as i,ka as b,kb as e,lb as s,ob as v,rb as p,sb as u,zb as n}from"./chunk-PT4W2435.js";var ee=r=>({"zoom-efecto":r});function te(r,o){if(r&1&&(i(0,"option",7),n(1),e()),r&2){let t=o.$implicit;d("ngValue",t),l(),M(t.nombre)}}function ie(r,o){r&1&&(i(0,"div",25),n(1," \u{1F958} \xA1A\xF1ade m\xE1s comida a tu pedido si lo deseas! "),e())}function ne(r,o){if(r&1){let t=v();i(0,"li",37)(1,"div"),n(2),x(3,"currency"),e(),i(4,"div")(5,"button",38),p("click",function(){let m=C(t).$implicit,c=u(2);return b(c.disminuirCantidad(m))}),n(6,"\u2796"),e(),i(7,"button",38),p("click",function(){let m=C(t).$implicit,c=u(2);return b(c.aumentarCantidad(m))}),n(8,"\u2795"),e(),i(9,"button",39),p("click",function(){let m=C(t).$implicit,c=u(2);return b(c.eliminarDelPedido(m))}),n(10,"\u{1F5D1}\uFE0F"),e()()()}if(r&2){let t=o.$implicit;l(2),w(" ",t.nombre," - ",h(3,3,t.precio,"EUR")," x ",t.cantidad," ")}}function oe(r,o){if(r&1&&(i(0,"div",40),n(1," \u2705 Gracias. Tu pedido estar\xE1 listo en 30 minutos. "),s(2,"i",41),n(3," Su pedido ha sido ordenado "),i(4,"p")(5,"strong"),n(6,"Nombre:"),e(),n(7),e(),i(8,"p")(9,"strong"),n(10,"Tel\xE9fono:"),e(),n(11),e(),i(12,"p")(13,"strong"),n(14,"Correo:"),e(),n(15),e(),i(16,"p"),n(17,"En el correo encontrar\xE1s la reserva en PDF."),e()()),r&2){let t=u(2);l(7),_(" ",t.datosCliente.nombreCliente,""),l(4),_(" ",t.datosCliente.telefonoCliente,""),l(4),_(" ",t.datosCliente.correoCliente,"")}}function ae(r,o){if(r&1){let t=v();i(0,"div")(1,"ul",26),g(2,ne,11,6,"li",27),e(),i(3,"h5",28),n(4),x(5,"currency"),e(),i(6,"form",29),p("ngSubmit",function(){C(t);let m=u();return b(m.confirmarPedido())}),i(7,"div",30)(8,"label",31),n(9,"Nombre"),e(),s(10,"input",32),e(),i(11,"div",30)(12,"label",31),n(13,"Tel\xE9fono"),e(),s(14,"input",33),e(),i(15,"div",30)(16,"label",31),n(17,"Correo electr\xF3nico"),e(),s(18,"input",34),e(),i(19,"button",35),n(20,"\u2705 Confirmar pedido"),e()(),g(21,oe,18,3,"div",36),e()}if(r&2){let t=u();l(2),d("ngForOf",t.pedido),l(2),_("Total: ",h(5,4,t.obtenerTotal(),"EUR"),""),l(2),d("formGroup",t.formularioCliente),l(15),d("ngIf",t.pedidoConfirmado)}}function re(r,o){r&1&&(i(0,"div",42)(1,"p"),n(2,"No hay productos en el pedido."),e()())}var X=class r{constructor(o){this.fb=o;this.formularioCliente=this.fb.group({nombreCliente:["",f.required],telefonoCliente:["",[f.required,f.pattern("^[0-9]{9}$")]],correoCliente:["",[f.required,f.email]]})}catalogo=[{nombre:"Croquetas de jam\xF3n",precio:6.5,imagen:"assets/croquetas.png"},{nombre:"Calamares a la andaluza",precio:8,imagen:"assets/calamares.jpg"},{nombre:"Ensalada C\xE9sar",precio:9.5,imagen:"assets/ensalada.jpg"},{nombre:"Ensalada mediterr\xE1nea",precio:8,imagen:"assets/ensaladamedi.jpg"},{nombre:"Pizza Margarita",precio:10,imagen:"assets/pizza.jpg"},{nombre:"Pizza barbacoa",precio:12,imagen:"assets/pizzabqq.jpg"},{nombre:"Chuleta de ternera",precio:18.5,imagen:"assets/chuleta.png"},{nombre:"Costillas BBQ",precio:16,imagen:"assets/costillas.png"},{nombre:"Coca-Cola",precio:2.5,imagen:"assets/cola.png"},{nombre:"Agua Sol\xE1n de Cabras",precio:1.8,imagen:"assets/solan.jpg"},{nombre:"Natillas caseras",precio:4,imagen:"assets/natillas.jpeg"},{nombre:"Tarta de queso",precio:5.5,imagen:"assets/tarta.jpg"}];pedido=[];platoSeleccionado=null;precioSeleccionado=0;pedidoConfirmado=!1;mostrarMensajeSugerencia=!1;formularioCliente;animarZoom=!1;datosCliente={nombreCliente:"",telefonoCliente:"",correoCliente:""};actualizarPrecioSeleccionado(){this.precioSeleccionado=this.platoSeleccionado?this.platoSeleccionado.precio:0}agregarAlPedido(o){if(!o)return;let t=this.pedido.find(a=>a.nombre===o.nombre);t?t.cantidad++:this.pedido.push(P(S({},o),{cantidad:1})),this.mostrarMensajeSugerencia=!0,setTimeout(()=>{this.mostrarMensajeSugerencia=!1},4e3),this.animarZoom=!0,setTimeout(()=>{this.animarZoom=!1},800)}aumentarCantidad(o){o.cantidad++}disminuirCantidad(o){o.cantidad>1?o.cantidad--:this.eliminarDelPedido(o)}eliminarDelPedido(o){this.pedido=this.pedido.filter(t=>t!==o)}obtenerTotal(){return this.pedido.reduce((o,t)=>o+t.precio*t.cantidad,0)}confirmarPedido(){this.formularioCliente.valid&&this.pedido.length>0?(this.datosCliente={nombreCliente:this.formularioCliente.value.nombreCliente,telefonoCliente:this.formularioCliente.value.telefonoCliente,correoCliente:this.formularioCliente.value.correoCliente},this.pedidoConfirmado=!0,setTimeout(()=>{this.pedidoConfirmado=!1,this.pedido=[],this.platoSeleccionado=null,this.precioSeleccionado=0,this.formularioCliente.reset()},5e3)):this.formularioCliente.markAllAsTouched()}static \u0275fac=function(t){return new(t||r)(E(Y))};static \u0275cmp=y({type:r,selectors:[["app-pedido"]],decls:37,vars:16,consts:[[1,"container","my-5"],[1,"text-center","mb-3"],[1,"text-center","mb-4"],[1,"row","g-3","align-items-end","mb-5"],[1,"col-md-6"],[1,"form-label"],["name","platoSeleccionado","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-4"],["readonly","",1,"form-control",3,"value"],[1,"col-md-2"],["type","button",1,"btn","btn-success","w-100",3,"click","disabled"],["class","alert alert-primary text-center",4,"ngIf"],[1,"container","text-center"],["id","btnVerPedido","data-bs-toggle","modal","data-bs-target","#modalPedido",1,"btn","btn-lg","btn-warning",3,"ngClass"],["id","modalPedido","tabindex","-1","aria-labelledby","modalPedidoLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalPedidoLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close"],[1,"modal-body"],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"alert","alert-primary","text-center"],[1,"list-group","mb-4"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"text-end"],[1,"mt-4",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label","modal-title"],["formControlName","nombreCliente","placeholder","Tu nombre",1,"form-control"],["formControlName","telefonoCliente","placeholder","Tu tel\xE9fono",1,"form-control"],["formControlName","correoCliente","placeholder","Tu correo electr\xF3nico",1,"form-control"],["type","submit",1,"btn","btn-success","w-100"],["class","alert alert-success text-center mt-4",4,"ngIf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-outline-secondary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"alert","alert-success","text-center","mt-4"],[1,"fa-solid","fa-person-walking"],[1,"text-center"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"h1",1),n(2,"Haz tu pedido en FaritoApp "),e(),i(3,"p",2),n(4," Bienvenido a nuestro servicio de pedidos en l\xEDnea. Selecciona tus platos favoritos y confirma tu pedido de forma r\xE1pida y sencilla. "),e(),i(5,"h3",2),n(6,"\u2795 A\xF1adir al pedido"),e(),i(7,"form",3)(8,"div",4)(9,"label",5),n(10,"Seleccionar plato"),e(),i(11,"select",6),D("ngModelChange",function(c){return T(a.platoSeleccionado,c)||(a.platoSeleccionado=c),c}),p("change",function(){return a.actualizarPrecioSeleccionado()}),i(12,"option",7),n(13,"-- Elige un plato --"),e(),g(14,te,2,2,"option",8),e()(),i(15,"div",9)(16,"label",5),n(17,"Precio"),e(),s(18,"input",10),x(19,"currency"),e(),i(20,"div",11)(21,"button",12),p("click",function(){return a.agregarAlPedido(a.platoSeleccionado)}),n(22," A\xF1adir "),e()()(),g(23,ie,2,0,"div",13),i(24,"div",14)(25,"button",15),n(26),e(),i(27,"div",16)(28,"div",17)(29,"div",18)(30,"div",19)(31,"h5",20),n(32,"Resumen del pedido"),e(),s(33,"button",21),e(),i(34,"div",22),g(35,ae,22,7,"div",23)(36,re,3,0,"div",24),e()()()()()()),t&2&&(l(11),F("ngModel",a.platoSeleccionado),l(),d("ngValue",null),l(2),d("ngForOf",a.catalogo),l(4),d("value",h(19,11,a.precioSeleccionado,"EUR")),l(3),d("disabled",!a.platoSeleccionado),l(2),d("ngIf",a.mostrarMensajeSugerencia),l(2),d("ngClass",I(14,ee,a.animarZoom)),l(),O(" \u{1F6D2} Ver pedido (",a.pedido.length," plato",a.pedido.length===1?"":"s",") "),l(9),d("ngIf",a.pedido.length>0),l(),d("ngIf",a.pedido.length===0))},dependencies:[j,N,V,k,z,J,U,W,H,A,L,q,B,Q,R,G,K,Z,$],styles:["[_nghost-%COMP%]{display:block;background-color:#fdfbf9;padding:2rem;font-family:Segoe UI,sans-serif}input.form-control.ng-touched.ng-invalid[_ngcontent-%COMP%]{border-color:#e63946}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#023e8a;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;box-shadow:0 6px 18px #00000014;transition:transform .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.card-title[_ngcontent-%COMP%]{color:#03045e;font-weight:700}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.btn-outline-success[_ngcontent-%COMP%]{border-color:#2a9d8f;color:#2a9d8f}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#2a9d8f;color:#fff}.modal-content[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 8px 24px #0000001a}.modal-title[_ngcontent-%COMP%]{color:#023e8a}.list-group-item[_ngcontent-%COMP%]{font-size:1rem}.alert-success[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;background-color:#d8f3dc;color:#1b4332;border:1px solid #95d5b2}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.animate__fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}@media (max-width: 768px){.card-img-top[_ngcontent-%COMP%]{height:160px}}@keyframes _ngcontent-%COMP%_zoom-temporal{0%{transform:scale(1)}50%{transform:scale(1.9)}to{transform:scale(1)}}.zoom-efecto[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoom-temporal 8s ease-out}"]})};export{X as PedidoComponent};
